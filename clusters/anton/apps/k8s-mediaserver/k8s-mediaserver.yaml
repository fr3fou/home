apiVersion: kubealex.com/v1
kind: K8SMediaserver
metadata:
    name: k8smediaserver
    namespace: apps
spec:
    general:
        ingress_host: ms.lab.simo.sh
        plex_ingress_host: plex.lab.simo.sh
        image_tag: latest
        puid: 1000
        pgid: 1000
        storage:
            customVolume: false
            pvcName: mediaserver-pvc
            size: 100Gi
            pvcStorageClass: local-path
            subPaths:
                tv: media/tv
                movies: media/movies
                downloads: downloads
                transmission: transmission
                sabnzbd: sabnzbd
                config: config
            volumes: {}
    sonarr:
        enabled: true
        container:
            nodeSelector: {}
            port: 8989
        service:
            type: ClusterIP
            port: 8989
            nodePort: null
            extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            path: /sonarr
            tls:
                enabled: true
                secretName: letsencrypt-sonarr
        resources: {}
    radarr:
        enabled: true
        container:
            nodeSelector: {}
            port: 7878
        service:
            type: ClusterIP
            port: 7878
            nodePort: null
            extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            path: /radarr
            tls:
                enabled: true
                secretName: letsencrypt-radarr
        resources: {}
    jackett:
        enabled: true
        container:
            nodeSelector: {}
            port: 9117
        service:
            type: ClusterIP
            port: 9117
            nodePort: null
            extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            path: /jackett
            tls:
                enabled: true
                secretName: letsencrypt-jackett
        resources: {}
    transmission:
        enabled: true
        container:
            nodeSelector: {}
            port:
                utp: 9091
                peer: 51413
        service:
            utp:
                type: ClusterIP
                port: 9091
                nodePort: null
                extraLBService: false
            peer:
                type: ClusterIP
                port: 51413
                nodePort: null
                nodePortUDP: null
                extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            path: /transmission
            tls:
                enabled: true
                secretName: letsencrypt-transmission
        config:
            auth:
                enabled: true
                username: simo
                password: ENC[AES256_GCM,data:vE7pePzYB8Sg3eTIpznn4RMuhg+mDiJ7LWWNAqx2,iv:FXAYjPt1VgAVFNVW0UjW3PXQZRTGjOmHd9dGKZXn1ik=,tag:OTIwrXCdmVnqSF7es7PW1w==,type:str]
        resources: {}
    sabnzbd:
        enabled: true
        container:
            nodeSelector: {}
            port:
                http: 8080
                https: 9090
        service:
            http:
                type: ClusterIP
                port: 8080
                nodePort: null
                extraLBService: false
            https:
                type: ClusterIP
                port: 9090
                nodePort: null
                extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            path: /sabnzbd
            tls:
                enabled: true
                secretName: letsencrypt-sabnzbd
        resources: {}
    plex:
        enabled: true
        claim: ENC[AES256_GCM,data:FGHEi6EEXyp/AtFmGjN4d0RrOc8iAc3OKc0=,iv:JcB0J8HTS/X/5kBC03l1a83m/fpyur8FMo17vrESD10=,tag:Kb2aOCqQ6T1BExPXoB3yVw==,type:str]
        replicaCount: 1
        container:
            nodeSelector: {}
            port: 32400
        service:
            type: ClusterIP
            port: 32400
            nodePort: null
            extraLBService: false
        ingress:
            enabled: true
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
            tls:
                enabled: true
                secretName: letsencrypt-plex
        resources: {}
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age194r4u78jlkcg3waxh5ddpwe6y0pwenuhk9avnkmc3huzcpf26d0spa3ggf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAyQ3AyRUkrTVorWTVwT3Yv
            eTV1ajFxdXJzWStlWEViclNIRTNxM1RmTnpJClNOYXRtR0tzNnA4MUxTYStDTFVK
            Tkg2aEZZWHhBMWRSS0VJQjMxUG9kNWcKLS0tIFNxTGlFNm91VDNCbE5vMFhvRXBS
            eTJpVUZDSVl2UEpmNmJLZUFhR0xYYVUKHO98vIPV2ceY7GPm4R82iqBY4g8puRwK
            CfMZ1ouWojdRjbbVVTU8UZEBUwz45T9emsVGcoZMnf+Rl3/16RkWKQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-09-16T20:33:48Z"
    mac: ENC[AES256_GCM,data:1HHkykN/oqfnTFrT+1GQb9zPGZ0u83iWI90R/kOcCnC/wjucVkvmCbZTGJLjeBfOWbmMAsIiSW3LL1IgsznMopEw4sALCOYMiftpscgH2mhoMMxwctutoz5fTKa7jHMdgMvXngBEPkmffmlChoWB3KRU14+s3rKdk1wrITQv7wc=,iv:sE6kzjBuqTkYn9TNgpaROI+rCYGaohIgVI1oDmJ0+NY=,tag:YAdksN6/lCYMXQjP+fDGPA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass($|word)|claim|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.7.3
