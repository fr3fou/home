apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
    name: mariadb
    namespace: core
spec:
    interval: 10m
    chart:
        spec:
            chart: mariadb
            version: 11.4.0
            sourceRef:
                kind: HelmRepository
                name: bitnami
                namespace: core
    values:
        auth:
            rootPassword: ENC[AES256_GCM,data:Wy5m0dAAFv5V2wFdUpX34CUQWOv5uwIAfXRngX/35ug=,iv:bE37ESVEqaEXhcP12arfrcDK7G+P78Rj82UeosModeo=,tag:4+g8ZdFkpQ1/IpL+vRJ8Jg==,type:str]
        primary:
            persistence:
                enabled: true
                existingClaim: ENC[AES256_GCM,data:OJHy/wsJ9A==,iv:gvDiawXzVo2NjNxLCQfGr4awD80JLWv6lA8c1+9BxBI=,tag:QmHdV1Yg63qYap7eS2SpGw==,type:str]
        metrics:
            enabled: true
            serviceMonitor:
                enabled: true
        initdbScripts:
            luncher-box.sql: |
                CREATE DATABASE "${LUNCHERBOX_DB}";
            huginn.sql: |
                CREATE DATABASE "${HUGINN_DB}";
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age194r4u78jlkcg3waxh5ddpwe6y0pwenuhk9avnkmc3huzcpf26d0spa3ggf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMblQyU2JqbVN6VkY0U2tk
            Y0pzMFdMQSs0SzJvdTdPM1VKeEw0WWJXT21JCjk5dXhJYmJPLzRNWmhMeVI5eXY3
            RUxEblZ0alFueUNXRUJwNkVrTzBiNkUKLS0tIEV0M1NyaU1hMXgwZHd4MFZuU3FE
            T0FKa1lCTzJZY2xLWTB1anFpVFQzOWcKWXNVLVd6UyyE99jZEYcX4waiB2YZhvkp
            t7JrA4R3P+jwj5Sfy16EtVPso7fOPzXP2o9r1iWrNvH+VTj6qqewMw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-12-04T18:44:06Z"
    mac: ENC[AES256_GCM,data:CSeE+8rtHwQo6tVS247fHn5UhwFc4tJkydwcLetRGjNJIYk8iLLNG/bo1VVMhWpoy4i8QUvJCeHLo1Xd82aodth0Muu56rEO10S10uJ+B0778rm1aCUN8QpvzFDyQB+XZ/X+iZujqP1y0W/DyX8+IcTaOfCY8ofWNDVELFsM4yA=,iv:Q2nivVNWpBbxybG6PWBGCBkNN+xEZZnwYj4cUMjTU2o=,tag:xaVfK4WCDaBRjbaa26C/uw==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass($|word)|claim|secret($|[^N])|key|token|^data$|^stringData))
    version: 3.7.3
