apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
    name: windmill
    namespace: apps
spec:
    interval: 10m0s
    chart:
        spec:
            chart: windmill
            version: 1.7.29
            interval: 10m0s
            sourceRef:
                kind: HelmRepository
                name: windmill
                namespace: apps
    values:
        windmill:
            baseDomain: windmill.${ROOT_DOMAIN}
            databaseUrl: ENC[AES256_GCM,data:pBF6jesibJL1fI49B0yrSfDE/btZIv1gBNI3/L2hlhReFSMQEBK3KaUTyaneh+qis9j1oEShwVkb6WNv1xzivsEamZxLP3xnDs98oZmhs1r2z5LS9aKo4Nf0n7gCfhQCqtc0Z8VMA+QEgjrnCg==,iv:11B9MI2gJ6/oZQ4WWCT1/wMO6EdtEvfO+PKf40hAVBg=,tag:7TqhHkQ+opI99k2tGC3ZmQ==,type:str]
            appReplicas: 1
            workerReplicas: 1
            lspReplicas: 1
            workerGroups: []
        postgresql:
            enabled: false
        minio:
            enabled: false
        ingress:
            enabled: true
            className: nginx
            tls:
                - hosts:
                    - windmill.${ROOT_DOMAIN}
                  secretName: letsencrypt-windmill
            annotations:
                cert-manager.io/cluster-issuer: letsencrypt
                external-dns.alpha.kubernetes.io/target: ${DDNS}
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age194r4u78jlkcg3waxh5ddpwe6y0pwenuhk9avnkmc3huzcpf26d0spa3ggf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDWWp4TktpQXNvKzQvaVNi
            M0ZZSUJwRnU5QmRRRTZXV1pqSXBUY1Zta0hFCnVoVmVQenJPUHYrd2owTDltVlZJ
            bFhsczN2RTF5NTJYUmNQNkJTV096VHMKLS0tIGFCcmMrVnlzWURsSUc3bTI0eStD
            Vk1IUlYxTGhBU2tIZm13N05GOHlMZmsKZIh2ZkP//ewpe/Utga6sRiJvG3rdEjqz
            FyfxdFPr/89ppW3KXTmZwNa5i056aQ4fYEXlINRhZWLINrDqmOHwCg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-22T21:43:36Z"
    mac: ENC[AES256_GCM,data:zoDa0kmiXgFINbnLGavmVR85OS0uAQ+SDVWzvRPvLXY3/QrQYt6XZSu8k1jVr5V5RpLjKqD9gtZ4ya8BYCy6NFPR5xD9YvMV8nnzcMrA1RkgRItwZHfI8bgiOiqhzZDH++lWW7kU96SYS6Cx/ye/42QPnF8yD6MQnpoEMaGMXCU=,iv:BfW/YYG7wMRqbsBfo1t8Pcm/Im1/WJOC/kyfAfKJtWE=,tag:ZpUB8hADPI2FQicpR5kiRg==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass($|word)|claim|secret($|[^N])|key|token|^data$|^stringData|^databaseUrl))
    version: 3.7.3
